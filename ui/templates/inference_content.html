<div class="h-screen flex">

  <!-- Sidebar -->
  <div class="w-64 bg-gray-900 text-white p-4 flex flex-col">
    <h3 class="text-lg font-bold mb-4">Inference</h3>

    <label class="mb-1 font-semibold" for="model-select">Model</label>
    <select id="model-select"
            name="model"
            class="w-full p-2 mb-4 rounded bg-gray-700 text-white"
            hx-get="/models"
            hx-trigger="load"
            hx-target="#model-select"
            hx-swap="innerHTML">
      <option value="">-- choose --</option>
    </select>

    <!-- Scenario select -->
    <label class="mb-1 font-semibold" for="scenario-select">Scenario</label>
    <select id="scenario-select"
            name="scenario"
            class="w-full p-2 mb-4 rounded bg-gray-700 text-white"
            hx-get="/scenarios"
            hx-trigger="load"
            hx-target="#scenario-select"
            hx-swap="innerHTML"
            hx-on="change: htmx.ajax('GET', '/scenario', {target:'#viewer', values:{scenario:this.value}})">
      <option value="">-- choose --</option>
    </select>

  <button class="p-2 mt-auto bg-blue-600 rounded hover:bg-blue-700"
          hx-post="/run_inference"
          hx-target="#viewer"
          hx-include="#model-select,#scenario-select">
    Run Inference
  </button>
  </div>

  <!-- Main viewer -->
  <div id="viewer" class="flex-1 p-4 bg-gray-800 text-white overflow-auto space-y-6">

    <!-- Inputs -->
    <div class="p-4 bg-gray-900 rounded shadow">
      <h4 class="font-semibold mb-2">Inputs</h4>
      <div id="inputs" class="border border-gray-700 rounded p-2 min-h-[100px]">
        <!-- Input content will be loaded here -->
      </div>
    </div>

    <!-- Targets -->
    <div class="p-4 bg-gray-900 rounded shadow">
      <h4 class="font-semibold mb-2">Targets</h4>
      <div id="targets" class="border border-gray-700 rounded p-2 min-h-[100px]">
        <!-- Target content will be loaded here -->
      </div>
    </div>

    <!-- Outputs -->
    <div class="p-4 bg-gray-900 rounded shadow">
      <h4 class="font-semibold mb-2">Outputs</h4>
      <div id="outputs" class="border border-gray-700 rounded p-2 min-h-[100px]">
        <!-- Inference results will appear here -->
      </div>
    </div>

  </div>

</div>
